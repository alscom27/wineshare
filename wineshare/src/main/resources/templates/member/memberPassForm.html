<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout1}">

<!-- register css Fiels -->
<th:block layout:fragment="css">
    <link rel="stylesheet" type="text/css" th:href="@{/wineshare-css/login-form.css}">
    <style>
        .fieldError {
            color: #bd2130;
        }
    </style>
</th:block>

<th:block layout:fragment="script">
    <script th:inline="javascript">

    </script>

</th:block>


<div layout:fragment="content">
    <div class="modify-all">

    <div class="modify-container" th:if="${passType.equals('modify')}">
        <h1 class="modify-header">비밀번호 변경</h1>
    </div>

    <div class="modify-container" th:if="${passType.equals('withdraw')}">
        <h1 class="modify-header">회원 탈퇴</h1>
    </div>

    <form th:method="post" role="form" class="login-form" th:object="${memberPassModifyDTO}">

        <div class="form-group" th:if="${passType.equals('modify')}">
            <label th:for="originPassword">기존 비밀번호</label>
            <input type="password" th:field="*{originPassword}" required>
            <p th:if="${#fields.hasErrors('originPassword')}" th:errors="*{originPassword}" class="fieldError">Incorrect data</p>
        </div>

        <div class="form-group" th:if="${passType.equals('withdraw')}">
            <label for="withdrawPassword">비밀번호</label>
            <input type="password" id="withdrawPassword" name="withdrawPassword" required>
            <p th:text="${errorMsg}" class="fieldError"></p>
            <button type="submit" class="login-button" th:formaction="@{'/members/withdraw'}" style="font-size:17px; background: #000000; border: 1px solid #000000;">회원탈퇴</button>

        </div>

        <div th:if="${passType.equals('modify')}">
        <div class="form-group">
            <label th:for="newPassword">새 비밀번호</label>
            <input type="password" th:field="*{newPassword}" required>
            <p th:if="${#fields.hasErrors('newPassword')}" th:errors="*{newPassword}" class="fieldError">Incorrect data</p>

        </div>

        <div class="form-group" th:if="${passType.equals('modify')}">
            <label th:for="confirmPassword">새 비밀번호 확인</label>
            <input type="password" th:field="*{confirmPassword}" required>
            <p th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}" class="fieldError">Incorrect data</p>
        </div>

        <button type="submit" th:formaction="@{'/members/pass/modify'}" class="login-button" style="font-size:17px;">변경하기</button>

        </div>


        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">

    </form>

</div>

</div>

</html>